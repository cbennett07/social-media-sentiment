<mxfile host="Electron" agent="Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) draw.io/29.3.6 Chrome/140.0.7339.249 Electron/38.8.0 Safari/537.36" version="29.3.6">
  <diagram name="GCP Architecture" id="gcp-arch">
    <mxGraphModel dx="1216" dy="786" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1100" pageHeight="850" math="0" shadow="0" adaptiveColors="auto">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="gcp-project" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;strokeWidth=2;dashed=0;" value="" vertex="1">
          <mxGeometry height="700" width="1020" x="40" y="100" as="geometry" />
        </mxCell>
        <mxCell id="gcp-label" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontStyle=1;fontSize=14;fontColor=#333333;" value="GCP Project: social-media-sentiment-485915" vertex="1">
          <mxGeometry height="30" width="350" x="380" y="25" as="geometry" />
        </mxCell>
        <mxCell id="user" parent="1" style="shape=image;verticalLabelPosition=bottom;labelBackgroundColor=default;verticalAlign=top;aspect=fixed;imageAspect=0;image=https://www.gstatic.com/pantheon/images/welcome/icons/user.svg;clipPath=inset(0%);fillColor=#4285F4;" value="" vertex="1">
          <mxGeometry height="50" width="50" x="510" y="20" as="geometry" />
        </mxCell>
        <mxCell id="CFVP5KVwkrRIHUJ0AqgV-2" edge="1" parent="1" source="user-label" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" target="lb" value="">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="user-label" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontStyle=1;fontSize=12;" value="Users" vertex="1">
          <mxGeometry height="20" width="80" x="495" y="70" as="geometry" />
        </mxCell>
        <mxCell id="lb" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#4285F4;fontColor=#ffffff;strokeColor=#1967D2;strokeWidth=2;fontStyle=1;" value="Regional External&#xa;Application Load Balancer&#xa;&#xa;35.210.81.215" vertex="1">
          <mxGeometry height="80" width="250" x="410" y="140" as="geometry" />
        </mxCell>
        <mxCell id="urlmap" parent="1" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#E8F0FE;strokeColor=#4285F4;fontSize=10;" value="&lt;h4&gt;URL Map&lt;br&gt;/* → Frontend  |  /api/* → API  |  /collect → Collector  |  /process → Processor&lt;/h4&gt;" vertex="1">
          <mxGeometry height="40" width="450" x="310" y="230" as="geometry" />
        </mxCell>
        <mxCell id="arrow-user-lb" edge="1" parent="1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#4285F4;" target="lb">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="535" y="90" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="vpc" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E8F5E9;strokeColor=#34A853;strokeWidth=2;dashed=1;" value="" vertex="1">
          <mxGeometry height="200" width="980" x="60" y="420" as="geometry" />
        </mxCell>
        <mxCell id="vpc-label" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontStyle=1;fontSize=11;fontColor=#34A853;" value="VPC Network (Private Services)" vertex="1">
          <mxGeometry height="20" width="200" x="70" y="425" as="geometry" />
        </mxCell>
        <mxCell id="cloudrun-container" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E3F2FD;strokeColor=#1976D2;strokeWidth=1;dashed=0;" value="" vertex="1">
          <mxGeometry height="110" width="900" x="80" y="290" as="geometry" />
        </mxCell>
        <mxCell id="cloudrun-label" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontStyle=1;fontSize=11;fontColor=#1976D2;" value="Cloud Run Services" vertex="1">
          <mxGeometry height="20" width="150" x="90" y="295" as="geometry" />
        </mxCell>
        <mxCell id="frontend" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#1976D2;fontColor=#ffffff;strokeColor=#0D47A1;strokeWidth=2;" value="Frontend&#xa;(React/nginx)&#xa;:80" vertex="1">
          <mxGeometry height="70" width="140" x="100" y="320" as="geometry" />
        </mxCell>
        <mxCell id="collector" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#1976D2;fontColor=#ffffff;strokeColor=#0D47A1;strokeWidth=2;" value="Collector&#xa;(FastAPI)&#xa;:8080" vertex="1">
          <mxGeometry height="70" width="140" x="280" y="320" as="geometry" />
        </mxCell>
        <mxCell id="api" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#1976D2;fontColor=#ffffff;strokeColor=#0D47A1;strokeWidth=2;" value="API&#xa;(FastAPI)&#xa;:8082" vertex="1">
          <mxGeometry height="70" width="140" x="460" y="320" as="geometry" />
        </mxCell>
        <mxCell id="processor" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#1976D2;fontColor=#ffffff;strokeColor=#0D47A1;strokeWidth=2;" value="Processor&#xa;(FastAPI)&#xa;:8081" vertex="1">
          <mxGeometry height="70" width="140" x="640" y="320" as="geometry" />
        </mxCell>
        <mxCell id="arrow-lb-frontend" edge="1" parent="1" source="urlmap" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=1;strokeColor=#666666;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" target="frontend">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="arrow-lb-collector" edge="1" parent="1" source="urlmap" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=1;strokeColor=#666666;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" target="collector">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="arrow-lb-api" edge="1" parent="1" source="urlmap" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=1;strokeColor=#666666;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" target="api">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="arrow-lb-processor" edge="1" parent="1" source="urlmap" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=1;strokeColor=#666666;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" target="processor">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="redis" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#DB4437;fontColor=#ffffff;strokeColor=#A52714;strokeWidth=2;" value="Memorystore&#xa;Redis 7.0&#xa;&#xa;Queue: raw_content" vertex="1">
          <mxGeometry height="80" width="160" x="180" y="460" as="geometry" />
        </mxCell>
        <mxCell id="postgres" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#F4B400;fontColor=#ffffff;strokeColor=#E37400;strokeWidth=2;" value="Cloud SQL&#xa;PostgreSQL 16&#xa;&#xa;DB: sentiment" vertex="1">
          <mxGeometry height="80" width="160" x="400" y="460" as="geometry" />
        </mxCell>
        <mxCell id="gcs" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#0F9D58;fontColor=#ffffff;strokeColor=#0B8043;strokeWidth=2;" value="Cloud Storage&#xa;(GCS Bucket)&#xa;&#xa;Raw articles &amp; analysis" vertex="1">
          <mxGeometry height="80" width="160" x="620" y="460" as="geometry" />
        </mxCell>
        <mxCell id="vertex" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#9334E6;fontColor=#ffffff;strokeColor=#7B1FA2;strokeWidth=2;" value="Vertex AI&#xa;Claude Sonnet 4.5&#xa;&#xa;Region: us-east5" vertex="1">
          <mxGeometry height="80" width="140" x="840" y="320" as="geometry" />
        </mxCell>
        <mxCell id="secrets" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#607D8B;fontColor=#ffffff;strokeColor=#455A64;strokeWidth=2;" value="Secret Manager&#xa;&#xa;API Keys" vertex="1">
          <mxGeometry height="60" width="120" x="860" y="480" as="geometry" />
        </mxCell>
        <mxCell id="arrow-collector-redis" edge="1" parent="1" source="collector" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#DB4437;endArrow=classic;endFill=1;" target="redis" value="">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="arrow-redis-processor" edge="1" parent="1" source="redis" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#DB4437;endArrow=classic;endFill=1;" target="processor" value="">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="260" y="430" />
              <mxPoint x="710" y="430" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="arrow-processor-vertex" edge="1" parent="1" source="processor" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#9334E6;endArrow=classic;endFill=1;" target="vertex" value="">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="arrow-processor-postgres" edge="1" parent="1" source="processor" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#F4B400;endArrow=classic;endFill=1;" target="postgres" value="">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="710" y="410" />
              <mxPoint x="480" y="410" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="arrow-processor-gcs" edge="1" parent="1" source="processor" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#0F9D58;endArrow=classic;endFill=1;" target="gcs" value="">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="arrow-api-postgres" edge="1" parent="1" source="api" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#F4B400;endArrow=classic;endFill=1;" target="postgres" value="">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="vpc-connector" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#C8E6C9;strokeColor=#34A853;strokeWidth=1;fontColor=#2E7D32;fontSize=10;" value="Serverless VPC&#xa;Access Connector" vertex="1">
          <mxGeometry height="50" width="120" x="70" y="560" as="geometry" />
        </mxCell>
        <mxCell id="legend-title" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontStyle=1;fontSize=11;" value="Data Flow Legend" vertex="1">
          <mxGeometry height="20" width="100" x="120" y="640" as="geometry" />
        </mxCell>
        <mxCell id="legend-1" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" value="1. Collect articles" vertex="1">
          <mxGeometry height="20" width="120" x="120" y="660" as="geometry" />
        </mxCell>
        <mxCell id="legend-2" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" value="2. Queue to Redis" vertex="1">
          <mxGeometry height="20" width="120" x="120" y="680" as="geometry" />
        </mxCell>
        <mxCell id="legend-3" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" value="3. Process → Vertex AI" vertex="1">
          <mxGeometry height="20" width="130" x="120" y="700" as="geometry" />
        </mxCell>
        <mxCell id="legend-4" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" value="4. Store in Postgres/GCS" vertex="1">
          <mxGeometry height="20" width="140" x="120" y="720" as="geometry" />
        </mxCell>
        <mxCell id="legend-5" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" value="5. API serves to Frontend" vertex="1">
          <mxGeometry height="20" width="140" x="120" y="740" as="geometry" />
        </mxCell>
        <mxCell id="tech-title" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontStyle=1;fontSize=11;" value="Technology Stack" vertex="1">
          <mxGeometry height="20" width="120" x="799" y="640" as="geometry" />
        </mxCell>
        <mxCell id="tech-1" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" value="Frontend: React + TypeScript + Tailwind" vertex="1">
          <mxGeometry height="20" width="220" x="799" y="660" as="geometry" />
        </mxCell>
        <mxCell id="tech-2" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" value="Backend: Python + FastAPI" vertex="1">
          <mxGeometry height="20" width="180" x="799" y="680" as="geometry" />
        </mxCell>
        <mxCell id="tech-3" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" value="LLM: Vertex AI Claude Sonnet 4.5" vertex="1">
          <mxGeometry height="20" width="200" x="799" y="700" as="geometry" />
        </mxCell>
        <mxCell id="tech-4" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" value="Infrastructure: Terraform" vertex="1">
          <mxGeometry height="20" width="160" x="799" y="720" as="geometry" />
        </mxCell>
        <mxCell id="routes-title" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontStyle=1;fontSize=11;" value="URL Routing" vertex="1">
          <mxGeometry height="20" width="100" x="431" y="640" as="geometry" />
        </mxCell>
        <mxCell id="routes-1" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;fontFamily=Courier New;" value="/*        → Frontend (React SPA)" vertex="1">
          <mxGeometry height="20" width="220" x="431" y="660" as="geometry" />
        </mxCell>
        <mxCell id="routes-2" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;fontFamily=Courier New;" value="/api/*    → API (REST endpoints)" vertex="1">
          <mxGeometry height="20" width="220" x="431" y="680" as="geometry" />
        </mxCell>
        <mxCell id="routes-3" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;fontFamily=Courier New;" value="/collect  → Collector (fetch articles)" vertex="1">
          <mxGeometry height="20" width="240" x="431" y="700" as="geometry" />
        </mxCell>
        <mxCell id="routes-4" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;fontFamily=Courier New;" value="/process  → Processor (sentiment)" vertex="1">
          <mxGeometry height="20" width="240" x="431" y="720" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
